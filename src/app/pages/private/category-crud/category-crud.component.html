<div class="category-container">
  <h2>Gestión de Categorías</h2>

  <form (ngSubmit)="onSubmit()" [formGroup]="categoryForm" class="form-container">
    <div class="form-group">
      <label for="name">Nombre de la Categoría</label>
      <input type="text" id="name" formControlName="name" class="form-control" required />
      <div class="error" *ngIf="categoryForm.get('name')?.invalid && (categoryForm.get('name')?.dirty || categoryForm.get('name')?.touched)">
        <small *ngIf="categoryForm.get('name')?.errors?.['required']">El nombre es obligatorio.</small>
        <small *ngIf="categoryForm.get('name')?.errors?.['minlength']">El nombre debe tener al menos 3 caracteres.</small>
        <small *ngIf="categoryForm.get('name')?.errors?.['maxlength']">El nombre no puede exceder los 50 caracteres.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="description">Descripción</label>
      <input type="text" id="description" formControlName="description" class="form-control" />
      <div class="error" *ngIf="categoryForm.get('description')?.invalid && (categoryForm.get('description')?.dirty || categoryForm.get('description')?.touched)">
        <small *ngIf="categoryForm.get('description')?.errors?.['maxlength']">La descripción no puede exceder los 200 caracteres.</small>
      </div>
    </div>

    <button type="submit" class="btn-submit" [disabled]="!categoryForm.valid">Agregar Categoría</button>
  </form>

  <div class="category-list">
    <h3>Lista de Categorías</h3>
    <ul>
      <li *ngFor="let category of categories">
        <span>{{ category.name }}: {{ category.description }}</span>
        <button class="delete-btn" (click)="deleteCategory(category._id)">Eliminar</button>
      </li>
    </ul>
  </div>
</div>
